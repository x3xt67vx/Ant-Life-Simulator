# Ant Life Simulator

## Итоговое задание к экзамену "Симулятор жизни муравьёв"

### Описание проекта

Создать приложение, в котором симулируется жизнь муравьёв на определённой территории.

### Основные характеристики:

- **Пространство**:
    - Прямоугольная область.
    - Двухмерное пространство.
    - Состоит из квадратных клеток (регулярная квадратная сетка).
    - Все объекты помещаются строго в клетки, но могут быть объекты, занимающие несколько клеток (все фрагменты таких объектов выровнены по клеткам).
    - У всех объектов есть характеристика "Положение в пространстве" (координаты).

- **Объекты**:
    - **Муравей**:
        - Направления: "Север", "Восток", "Юг", "Запад".
        - Движение: в 4-х направлениях.
        - Действия: оставлять феромоновый след, съедать частички пищи, залезать и вылезать из муравейника.
        - Типы:
            - **Работник**: может нести частичку пищи.
            - **Воин**: может кусать врага/угрозу.
        - Характеристики:
            - Здоровье (сытость).
            - Возраст.
            - Скорость.
            - Атака (для Воина).

    - **Пища**:
        - Занимает одну клетку.
        - Появляется случайно в случайной позиции, не совпадающей с муравейником.
        - В один момент в пространстве не может быть более N клеток, занятых едой.
        - Характеристики: количество единиц.

    - **Феромоновый след**:
        - Занимает одну клетку.
        - Имеет ареол воздействия S клеток вокруг.
        - Со временем исчезает (уменьшается количество единиц).
        - Характеристики: количество единиц.

    - **Муравейник**:
        - Занимает несколько клеток.
        - Внутренности не обозначаются и не симулируются.
        - Характеристики:
            - Возраст популяции.
            - Размер популяции.
            - Количество собранной пищи.

    - **Враг/Угроза**:
        - Типы:
            - **Окурок**:
                - Неподвижен.
                - Имеет ареол воздействия M клеток вокруг (снижает здоровье муравьёв).
                - Со временем здоровье (целостность) окурка убывает.
                - Характеристики: здоровье (целостность), атака.
            - **Жук**:
                - Направления: "Север", "Восток", "Юг", "Запад".
                - Движение: в 4-х направлениях.
                - Пытается съесть муравьёв.
                - Характеристики: здоровье, атака.

### Требования к реализации:

- Приложение должно быть построено с использованием классов и функций с разбиением на `hpp` и `cpp` файлы.
- Приложение ведёт себя как screensaver, управления симуляцией со стороны пользователя не предполагается.

### Заметки:

- Муравей "Воин" может разрушать окурок, но окурок наносит урон такому муравью всё равно.

---

Этот проект предназначен для симуляции жизни муравьёв в заданной территории с различными объектами и взаимодействиями.

## Примерная структура проекта

![Ant Simulation Screenshot](ant.png) 
<!-- 
AntLifeSimulator/
├── CMakeLists.txt
├── include/
│   ├── core/
│   │   ├── World.hpp
│   │   ├── Config.hpp
│   │   └── Utils.hpp
│   ├── entities/
│   │   ├── Entity.hpp
│   │   ├── Position.hpp
│   │   ├── Ant/
│   │   │   ├── Ant.hpp
│   │   │   ├── WorkerAnt.hpp
│   │   │   └── SoldierAnt.hpp
│   │   ├── Food.hpp
│   │   ├── Pheromone.hpp
│   │   ├── Anthill.hpp
│   │   └── Enemy/
│   │       ├── Enemy.hpp
│   │       ├── Cigarette.hpp
│   │       └── Beetle.hpp
│   └── rendering/
│       ├── Renderer.hpp
│       └── RaylibRenderer.hpp
└── src/
    ├── main.cpp
    ├── core/
    │   ├── World.cpp
    │   ├── Config.cpp
    │   └── Utils.cpp
    └── entities/
        ├── Ant/
        │   ├── Ant.cpp
        │   ├── WorkerAnt.cpp
        │   └── SoldierAnt.cpp
        ├── Food.cpp
        ├── Pheromone.cpp
        ├── Anthill.cpp
        └── Enemy/
            ├── Enemy.cpp
            ├── Cigarette.cpp
            └── Beetle.cpp
-->


## Основные компоненты

### Ядро (`include/core/`)
- `World.hpp` - управление игровым миром и симуляцией
- `Config.hpp` - настройки баланса и константы
- `Utils.hpp` - вспомогательные утилиты

### Сущности (`include/entities/`)
- `Entity.hpp` - базовый класс всех объектов
- `Ant/` - иерархия классов муравьёв
    - `Ant.hpp` - базовый класс
    - `WorkerAnt.hpp` - муравей-работник
    - `SoldierAnt.hpp` - муравей-воин
- `Enemy/` - враги
    - `Cigarette.hpp` - окурок
    - `Beetle.hpp` - жук
- Ресурсы:
    - `Food.hpp` - пища
    - `Pheromone.hpp` - феромоны
    - `Anthill.hpp` - муравейник

### Отрисовка (`include/rendering/`)
- `Renderer.hpp` - абстрактный рендерер
- `RaylibRenderer.hpp` - реализация через raylib

## Сборка

```bash
mkdir build && cd build
cmake ..
make
```
<!-- 
### **Полное описание файлов проекта Ant Life Simulator**

#### **1. Корневая структура проекта**
Проект разделен на **`include`** (заголовочные файлы) и **`src`** (реализация).  
Основные модули:
- **`core/`** – ядро симуляции (мир, конфиги, утилиты)  
- **`entities/`** – все игровые сущности (муравьи, еда, феромоны и т.д.)  
- **`rendering/`** – отрисовка через Raylib  

---

### **2. Основные файлы и их назначение**

#### **A. Ядро (core/)**
1. **`World.hpp / World.cpp`**  
   - **Что делает**: Управляет всей симуляцией.  
   - **Содержит**:  
     - Размеры мира (ширина/высота в клетках)  
     - Список всех сущностей (`vector<Entity*>` или `vector<unique_ptr<Entity>>`)  
     - Методы:  
       - `Update()` – обновляет состояние всех объектов  
       - `AddEntity()` – добавляет новые объекты (муравьев, еду и т.д.)  
       - Проверка коллизий (опционально)  

2. **`Config.hpp`**  
   - **Что делает**: Хранит настройки симуляции.  
   - **Примеры параметров**:  
     - Размер мира (`WORLD_WIDTH`, `WORLD_HEIGHT`)  
     - Максимальное количество еды (`MAX_FOOD`)  
     - Скорость муравьев (`ANT_SPEED`)  
     - Время жизни феромонов (`PHEROMONE_DECAY`)  

3. **`Utils.hpp / Utils.cpp`**  
   - **Что делает**: Вспомогательные функции.  
   - **Примеры**:  
     - Генерация случайных чисел (`RandomInt()`)  
     - Проверка вероятности (`RandomChance()`)  
     - Поиск пути (опционально)  

---

#### **B. Сущности (entities/)**
1. **`Entity.hpp`**  
   - **Базовый класс** для всех объектов в мире.  
   - **Содержит**:  
     - Позицию (`Position`)  
     - Виртуальные методы:  
       - `Update()` – логика обновления состояния  
       - `IsAlive()` – проверка, "жив" ли объект  

2. **`Position.hpp`**  
   - **Структура** для хранения координат (x, y).  
   - **Методы**:  
     - Операторы сравнения (`==`, `+`)  

3. **Муравьи (`Ant/`)**  
   - **`Ant.hpp`** – базовый класс:  
     - Тип (`WORKER`, `SOLDIER`)  
     - Направление (`NORTH`, `EAST`, etc.)  
     - Здоровье, возраст, скорость  
     - Методы: `Move()`, `PerformAction()`  
   - **`WorkerAnt.hpp/cpp`** – рабочий муравей:  
     - Переносит еду  
     - Оставляет феромоны  
   - **`SoldierAnt.hpp/cpp`** – солдат:  
     - Атакует врагов  
     - Защищает муравейник  

4. **`Food.hpp / Food.cpp`**  
   - **Еда**:  
     - Количество (`amount`)  
     - Методы: `TakeSome()` (уменьшает количество)  

5. **`Pheromone.hpp / Pheromone.cpp`**  
   - **Феромоновый след**:  
     - Сила (`strength`)  
     - Метод `Decay()` – постепенное исчезновение  

6. **`Anthill.hpp / Anthill.cpp`**  
   - **Муравейник**:  
     - Хранит еду (`foodStorage`)  
     - Спаунит новых муравьев (`SpawnAnt()`)  

7. **Враги (`Enemy/`)**  
   - **`Enemy.hpp`** – базовый класс врагов.  
   - **`Cigarette.hpp/cpp`** – окурок:  
     - Наносит урон в радиусе  
     - Неподвижен  
   - **`Beetle.hpp/cpp`** – жук:  
     - Преследует муравьев  
     - Может атаковать  

---

#### **C. Рендеринг (rendering/)**
1. **`Renderer.hpp`** (абстрактный интерфейс)  
   - Виртуальные методы: `Draw()`, `DrawStats()`  

2. **`RaylibRenderer.hpp / RaylibRenderer.cpp`**  
   - **Что делает**: Отрисовывает мир через Raylib.  
   - **Содержит**:  
     - Размер клетки (`CELL_SIZE`)  
     - Цвета для каждого типа объектов  
     - Методы:  
       - `Draw()` – рисует сетку и все сущности  
       - `DrawStats()` – показывает FPS, количество муравьев и т.д.  

---

#### **D. Главный файл (`main.cpp`)**
- **Что делает**: Запускает симуляцию.  
- **Логика**:  
  1. Инициализация Raylib (`InitWindow()`)  
  2. Создание мира (`World`) и рендерера (`RaylibRenderer`)  
  3. Основной цикл (`while (!WindowShouldClose())`):  
     - Обновление мира (`world.Update()`)  
     - Отрисовка (`renderer.Draw()`)  

---

### **3. Дополнительные заметки**
1. **Спаун объектов**:  
   - Еда появляется случайно в свободных клетках.  
   - Муравьи спаунятся из муравейника.  
   - Враги появляются по таймеру или при условиях.  

2. **Коллизии**:  
   - Муравьи не могут ходить через стены/врагов.  
   - Рабочие подбирают еду при касании.  

3. **Оптимизация**:  
   - Для феромонов можно использовать отдельную сетку.  
   - Для поиска пути – алгоритм A* или упрощенный вариант.  

Если нужно углубиться в конкретный класс или механизм (например, систему феромонов или ИИ жуков), дайте знать!


-->